<script>
    import { fade } from "svelte/transition";

    function overlay_click(e) {if ("close" in e.target.dataset) show = false;}

    function p_click(e) {
        console.log(e.target.textContent)
        if(e.target.textContent=='По популярности') svgImage=svgPopular
        else if(e.target.textContent=='Сначала новинки') svgImage=svgNew
        else if(e.target.textContent=='По алфавиту') svgImage=svgAZ
        else if(e.target.textContent=='Сначала дешевле') svgImage=svgUp
        else if(e.target.textContent=='Сначала дороже') svgImage=svgDown
         show = false
         }

    let svgPopular=`
            M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M9.75,7.82C8.21,7.82 7,9.03 7,10.57C7,12.46 8.7,14 11.28,16.34L12,17L12.72,16.34C15.3,14 17,12.46 17,10.57C17,9.03 15.79,7.82 14.25,7.82C13.38,7.82 12.55,8.23 12,8.87C11.45,8.23 10.62,7.82 9.75,7.82Z`,
        svgNew=`
            M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z`,
        svgAZ=`
            M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27L1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27H6.1zm-1.13 7.37l1.94-5.18 1.94 5.18H4.97zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26l-5.93 8.6z
        `,
        svgUp=`
            m23.578 8.6396a1.4399 1.7142 0 0 1-2.0364 2.86e-4l-2.3418-2.7874v9.576a1.44 1.7143 0 0 1-2.88 0v-9.5756l-2.3418 2.7878a1.44 1.7143 0 0 1-2.0365-2.4244l4.8-5.7143c0.0023-0.0027 0.0048-5e-3 0.0071-0.0076 0.03146-0.03693 0.0641-0.07233 0.09826-0.10571 0.01717-0.01681 0.03533-0.03146 0.05297-0.04716 0.01998-0.01779 0.03949-0.0362 0.06029-0.05273 0.02062-0.01646 0.04207-0.03076 0.06328-0.04579 0.01916-0.01364 0.03785-0.02794 0.05754-0.04049 0.0215-0.01367 0.04359-0.02525 0.06545-0.03756 0.02074-0.01161 0.04107-0.02393 0.06234-0.03443 0.02121-0.01046 0.04289-0.01887 0.06445-0.02808 0.02279-0.0097 0.04524-0.02012 0.06856-0.02857 0.02156-0.0077 0.04342-0.01339 0.06516-0.01995 0.02379-0.0071 0.04723-0.01507 0.07148-0.02075 0.02508-0.0059 0.05045-0.0095 0.0757-0.01378 0.02121-0.0036 0.04207-0.0084 0.06363-0.01091 0.04723-0.0055 0.09457-0.0085 0.14203-0.0085l0.0011 7e-5c0.04705 3.4e-5 0.0941 3e-3 0.14098 0.0085 0.02109 0.0025 0.04149 0.0071 0.06228 0.01071 0.02572 0.0044 0.0515 8e-3 0.07705 0.01399 0.02361 0.0056 0.04652 0.01332 0.06973 0.02026 0.02238 0.0067 0.04494 0.01255 0.06709 0.02051 0.02256 0.0082 0.04436 0.01828 0.06645 0.02769 0.02227 0.0095 0.04465 0.01821 0.06662 0.02902 0.02045 0.01011 0.04008 0.02197 0.06006 0.03317 0.02268 0.01266 0.04553 0.02469 0.06773 0.03882 0.01875 0.012 0.03656 0.02567 0.05484 0.03857 0.02209 0.01566 0.04442 0.03059 0.06598 0.04774 0.01975 0.01573 0.03826 0.03331 0.0573 0.05012 0.01863 0.0165 0.03768 0.03198 0.05578 0.04967 0.0317 0.031 0.06187 0.0641 0.09123 0.09814 0.0045 0.0052 0.0094 0.0097 0.01389 0.015l4.7999 5.7133a1.44 1.7142 0 0 1 1.83e-4 2.4244zm-22.138 6.2175h8.6399a1.44 1.7143 0 0 0 0-3.4286h-8.6399a1.44 1.7143 0 0 0 0 3.4286zm0-9.1429h6.7199a1.44 1.7143 0 0 0 0-3.4286h-6.7199a1.44 1.7143 0 0 0 0 3.4286zm16.32 14.857h-16.32a1.44 1.7143 0 0 0 0 3.4286h16.32a1.44 1.7143 0 0 0 0-3.4286z
        `,
        svgDown=`
            m23.707 17.65-4.9999 5.999c-0.0011 0.0015-0.0025 0.0026-0.0037 4e-3q-0.03332 0.03955-0.06952 0.07537c-0.01154 0.01135-0.02368 0.02124-0.03552 0.03186-0.01428 0.01289-0.02832 0.02615-0.04315 0.03809-0.01404 0.01128-0.02857 0.02102-0.04291 0.03127-0.01367 0.0098-0.02698 0.02007-0.04108 0.02908-0.01459 0.0094-0.0296 0.01736-0.0445 0.02578-0.01465 0.0084-0.02911 0.01706-0.04419 0.02461-0.01447 0.0072-0.02924 0.01296-0.04389 0.01926-0.01611 7e-3 -0.03198 0.01435-0.04846 0.02036-0.01471 0.0053-0.0296 0.0092-0.04443 0.0137-0.01678 0.0051-0.03339 0.01069-0.05048 0.01479-0.01727 0.0041-0.03467 0.0065-0.05206 0.0095-0.01483 0.0026-0.02948 0.0059-0.04456 0.0077-0.03277 0.0039-0.06567 6e-3 -0.09863 6e-3s-0.06586-0.0021-0.09869-6e-3c-0.01489-0.0018-0.02942-0.0051-0.04419-0.0076-0.01752-3e-3 -0.03503-0.0055-0.05243-0.0096-0.01691-4e-3 -0.03326-0.0096-0.04987-0.01466-0.01508-0.0045-0.03021-0.0085-0.04511-0.01392-0.01617-0.0059-0.03186-0.01318-0.04767-0.01999-0.01495-0.0065-0.02997-0.0123-0.04468-0.01963-0.01471-0.0073-0.02881-0.0159-0.04315-0.02402-0.01526-0.0086-0.0307-0.01677-0.04565-0.02637-0.01349-0.0087-0.02637-0.0186-0.03949-0.02798-0.01489-0.01069-0.02997-0.0208-0.04443-0.03245-0.01404-0.01128-0.02728-0.02388-0.04077-0.03596-0.01263-0.01135-0.02564-0.0219-0.0379-0.03398-0.02142-0.0211-0.04175-0.04373-0.06164-0.0668-0.0037-0.0044-0.0078-0.0081-0.01141-0.01245l-5-6a1 1.2 0 0 1 1.4142-1.6972l3.2929 3.9515v-11.503a1 1.2 0 0 1 2 0v11.503l3.2929-3.9508a0.99999 1.2 0 1 1 1.4141 1.6972zm-13.707-8.0496h-8.9999a1 1.2 0 0 0 0 2.4h8.9999a1 1.2 0 1 0 0-2.4zm-8.9999-7.2h17a1 1.2 0 0 0 0-2.4h-17a1 1.2 0 1 0 0 2.4zm7 16.8h-7a1 1.2 0 0 0 0 2.4h7a1 1.2 0 0 0 0-2.4z`

    export let show = false,svgImage=svgNew

   

</script>

{#if show}
    <div class="modal-overlay" data-close on:click={overlay_click} transition:fade={{duration: 300}}></div>
{/if}

<div class="modal-container"  class:visible="{show}"  transition:fade={{duration: 300}}>
    <p>Сортировать:</p>
    <p class="links"  on:click={p_click}>Сначала новинки</p>
    <p class="links" on:click={p_click}>По алфавиту</p>
    <p class="links" on:click={p_click}>Сначала дешевле</p>
    <p class="links" on:click={p_click}>Сначала дороже</p>
    <p class="links" on:click={p_click}>По популярности</p>
</div>

<style>
    
    .links{color: #100e0e;font-size: large;}
    .links:hover{cursor: pointer;background-color: rgba(85, 108, 214, 0.08);}
    
    .modal-overlay {

      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 10;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    .modal-container {
        position: fixed;
        background-color: #ffffff;
        width: 80%;
        box-shadow: 0 3px 10px #555;
        display: none;
        left: 10%;
        height: 50%;
        top: 25%;
        border-radius: 4px;
    }

    @media only screen and (min-width: 600px) {
        .modal-container{ width: 36%; left: 32%;}
  }
    .visible{ 
        display: flex;
        z-index: 10;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
  </style>